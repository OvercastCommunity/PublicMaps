<map proto="1.5.0" game="Rocket Jumper">
<name>Ravine</name>
<version>1.1.0</version>
<created>2016-03-27</created>
<objective>Rocket jump your way to the finish line!</objective>
<include id="void-death"/>
<constant id="void-plane">25</constant>
<authors>
    <author uuid="e79fbdc9-627e-4dac-97a6-81a3046220d7"/> <!-- AtlasGames -->
</authors>
<contributors>
    <contributor uuid="060baa18-2852-40d8-afcb-e61607c04be3"/> <!-- PepsiDog -->
</contributors>
<players max="8"/>
<spawns>
    <spawn kit="spawn-kit" region="checkpoint-0-recovery" yaw="-90" filter="checkpoint=0"/>
    <spawn kit="spawn-kit" region="checkpoint-1-recovery" yaw="-150" filter="checkpoint=1"/>
    <spawn kit="spawn-kit" region="checkpoint-2-recovery" yaw="-110" filter="checkpoint=2"/>
    <spawn kit="spawn-kit" region="checkpoint-3-recovery" yaw="-45" filter="checkpoint=3"/>
    <spawn kit="spawn-kit" region="checkpoint-4-recovery" yaw="0" filter="checkpoint=4"/>
    <spawn kit="spawn-kit" region="checkpoint-5-recovery" yaw="45" filter="checkpoint=5"/>
    <spawn kit="spawn-kit" region="checkpoint-6-recovery" yaw="0" filter="checkpoint=6"/>
    <default region="obs-spawn" yaw="-90"/>
</spawns>
<respawn auto="true" delay="0s"/>
<time>5m</time>
<score>
    <limit>7</limit>
</score>
<kits>
    <kit id="spawn-kit" force="true">
        <clear/>
        <boots material="chainmail boots" unbreakable="true" locked="true"/>
        <item slot="0" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="1" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="2" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="3" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="4" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="5" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="6" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="7" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <item slot="8" material="fireball" name="`rFireball" amount="64" projectile="throwable-fireball" grenade="true" grenade-power="1"/>
        <effect amplifier="1">invisibility</effect>
        <effect amplifier="2">speed</effect>
        <effect amplifier="20">resistance</effect>
        <game-mode>adventure</game-mode>
    </kit>
</kits>
<projectiles>
    <projectile id="throwable-fireball" name="Fireball" projectile="Fireball" click="right" velocity="0.8" damage="0" cooldown="1s"/>
</projectiles>
<hunger>
    <depletion>off</depletion>
</hunger>
<filters>
    <random id="random">0.5</random>
</filters>
<regions>
    <block id="obs-spawn" location="-18,40,-3"/>
    <cylinder id="checkpoint-1" base="30.5,30,-8.5" radius="3" height="100"/>
    <cylinder id="checkpoint-2" base="34.5,30,-39.5" radius="3" height="100"/>
    <cylinder id="checkpoint-3" base="67.5,30,-43.5" radius="3" height="100"/>
    <cylinder id="checkpoint-4" base="104.5,29,-2.5" radius="3" height="100"/>
    <cylinder id="checkpoint-5" base="99.5,29,19.5" radius="3" height="100"/>
    <cylinder id="checkpoint-6" base="77.5,29,40.5" radius="3" height="100"/>
    <cylinder id="checkpoint-7" base="77.5,29,53.5" radius="3" height="3"/>
    <block id="checkpoint-0-recovery" location="0,30,0"/>
    <block id="checkpoint-1-recovery" location="30,30,-9"/>
    <block id="checkpoint-2-recovery" location="34,30,-40"/>
    <block id="checkpoint-3-recovery" location="67,30,-44"/>
    <block id="checkpoint-4-recovery" location="104,39,-3"/>
    <block id="checkpoint-5-recovery" location="99,29,19"/>
    <block id="checkpoint-6-recovery" location="77,29,40"/>
    <cuboid id="platforms-1-1" min="31,35,-39" max="37,44,-22"/>
    <cuboid id="platforms-1-2" min="31,43,-39" max="37,52,-22"/>
    <cuboid id="platforms-1-3" min="31,51,-39" max="37,60,-22"/>
    <cuboid id="platforms-1-4" min="31,59,-39" max="37,68,-22"/>
    <cuboid id="platforms-1-5" min="31,67,-39" max="37,76,-22"/>
    <cuboid id="platforms-2-1" min="38,35,-47" max="64,42,-41"/>
    <cuboid id="platforms-2-2" min="38,44,-47" max="64,57,-41"/>
    <cuboid id="platforms-2-3" min="38,59,-47" max="64,72,-41"/>
    <cuboid id="platforms-2-4" min="38,74,-47" max="64,87,-41"/>
    <cuboid id="platforms-2-5" min="38,89,-47" max="64,102,-41"/>
    <cuboid id="platforms-2-6" min="38,104,-47" max="64,117,-41"/>
    <cuboid id="platforms-3-1" min="101,37,1" max="107,51,17"/>
    <cuboid id="platforms-3-2" min="101,52,1" max="107,66,17"/>
    <cuboid id="platforms-3-3" min="101,67,1" max="107,81,17"/>
    <cuboid id="platforms-3-4" min="101,82,1" max="107,96,17"/>
    <cuboid id="platforms-3-5" min="101,97,1" max="107,111,17"/>
    <apply block="never"/>
</regions>
<variables>
    <variable id="checkpoint" scope="player"/>
    <array id="sets" size="3" scope="match"/>
</variables>
<actions>
    <trigger scope="player" filter="all(match-running, checkpoint-1, checkpoint=0)" action="increment-score"/>
    <trigger scope="player" filter="all(match-running, checkpoint-2, checkpoint=1)" action="increment-score"/>
    <trigger scope="player" filter="all(match-running, checkpoint-3, checkpoint=2)" action="increment-score"/>
    <trigger scope="player" filter="all(match-running, checkpoint-4, checkpoint=3)" action="increment-score"/>
    <trigger scope="player" filter="all(match-running, checkpoint-5, checkpoint=4)" action="increment-score"/>
    <trigger scope="player" filter="all(match-running, checkpoint-6, checkpoint=5)" action="increment-score"/>
    <trigger scope="player" filter="all(match-running, checkpoint-7, checkpoint=6)" action="increment-score"/>
    <action id="increment-score" scope="player">
        <set var="checkpoint" value="checkpoint + 1"/>
        <message text="`aCheckpoint `c{0} `areached!">
            <replacements>
                <decimal id="0" value="checkpoint"/>
            </replacements>
        </message>
        <set var="score" value="checkpoint"/>
        <sound preset="SCORE"/>
    </action>
    <trigger scope="match" filter="always">
        <action>
            <set var="sets" index="0" value="floor(random() * 5)"/>
            <set var="sets" index="1" value="floor(random() * 6)"/>
            <set var="sets" index="2" value="floor(random() * 5)"/>
        </action>
    </trigger>
</actions>
<structures>
    <structure id="structure-1-1" region="platforms-1-1"/>
    <structure id="structure-1-2" region="platforms-1-2"/>
    <structure id="structure-1-3" region="platforms-1-3"/>
    <structure id="structure-1-4" region="platforms-1-4"/>
    <structure id="structure-1-5" region="platforms-1-5"/>
    <structure id="structure-2-1" region="platforms-2-1"/>
    <structure id="structure-2-2" region="platforms-2-2"/>
    <structure id="structure-2-3" region="platforms-2-3"/>
    <structure id="structure-2-4" region="platforms-2-4"/>
    <structure id="structure-2-5" region="platforms-2-5"/>
    <structure id="structure-2-6" region="platforms-2-6"/>
    <structure id="structure-3-1" region="platforms-3-1"/>
    <structure id="structure-3-2" region="platforms-3-2"/>
    <structure id="structure-3-3" region="platforms-3-3"/>
    <structure id="structure-3-4" region="platforms-3-4"/>
    <structure id="structure-3-5" region="platforms-3-5"/>
    <structures location="31,27,-39">
        <dynamic structure="structure-1-1" trigger="sets[0]=0"/>
        <dynamic structure="structure-1-2" trigger="sets[0]=1"/>
        <dynamic structure="structure-1-3" trigger="sets[0]=2"/>
        <dynamic structure="structure-1-4" trigger="sets[0]=3"/>
        <dynamic structure="structure-1-5" trigger="sets[0]=4"/>
    </structures>
    <structures location="38,28,-47">
        <dynamic structure="structure-2-1" trigger="sets[1]=0"/>
        <dynamic structure="structure-2-2" trigger="sets[1]=1"/>
        <dynamic structure="structure-2-3" trigger="sets[1]=2"/>
        <dynamic structure="structure-2-4" trigger="sets[1]=3"/>
        <dynamic structure="structure-2-5" trigger="sets[1]=4"/>
        <dynamic structure="structure-2-6" trigger="sets[1]=5"/>
    </structures>
    <structures location="101,27,1">
        <dynamic structure="structure-3-1" trigger="sets[2]=0"/>
        <dynamic structure="structure-3-2" trigger="sets[2]=1"/>
        <dynamic structure="structure-3-3" trigger="sets[2]=2"/>
        <dynamic structure="structure-3-4" trigger="sets[2]=3"/>
        <dynamic structure="structure-3-5" trigger="sets[2]=4"/>
    </structures>
</structures>
<disabledamage>
    <damage ally="true" self="false" enemy="true" other="false">block explosion</damage>
    <damage>fall</damage>
    <damage>entity attack</damage>
</disabledamage>
<itemkeep>
    <item>chainmail boots</item>
    <item>fireball</item>
</itemkeep>
</map>
